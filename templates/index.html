<!DOCTYPE html>
<html>
    <head>
        <title>Guardrails demo</title>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
        <!-- Link to your external CSS file -->
        <link rel="stylesheet" href="/static/index.css">
    
    </head>
<body>

<div class="container-fluid h-100">
    <div class="row h-100">
        
        <!-- Left Column -->
        <div class="col-md-3 bg-light border-right p-3">
            <!-- Text Edit Field and Button -->
            <div class="form-group">
                <h3>Instruction</h3>
                <textarea id="textEditField" class="form-control"></textarea>
            </div>
            <button onclick="sendSplContent()" class="btn btn-primary btn-block mb-3">Add instruction</button>

            <div id="guardrailsContainer" class="p-3">
                <!-- Checkboxes for Recommended Guardrails -->
                <div id="checkboxList" class="mt-3">
                    <h5 class="recommended-guardrails">Recommended guardrails</h5>
                    <div id="checkboxListContainer"></div> <!-- Container for checkboxes -->
                </div>
                <hr> 
                <!-- Checkboxes for All Other Guardrails -->
                <div id="anotherCheckboxList" class="mt-3">
                    <h5 class="all-guardrails">All other guardrails</h5>
                    <div id="anotherCheckboxListContainer"></div> <!-- Container for checkboxes -->
                </div>
                <button onclick="addGuardrails()" class="btn btn-primary btn-block mb-3">Add Guardrails</button>
            </div>
            
    </div>

        <!-- Middle Column for Chat -->
        <div class="col-md-6 p-3" id="chat-container">
            <h2>Chatbot</h2>
            <div id="messages" class="p-3"></div> <!-- Container for all messages -->

            <div id="input-container"> <!-- Container for input controls -->
                <div class="input-group">
                    <input type="text" id="userInput" class="form-control" placeholder="Type a message..." autocomplete="off">
                    <div class="input-group-append">
                        <button onclick="sendMessage()" class="btn btn-primary" id="sendButton">Send</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column for Backend Responses -->
        <div class="col-md-3 bg-light border-left p-3">
            <!-- Chain Progress Block -->
            <div class="chain-progress-container">
                <h3>Chain Progress</h3>
                <div id="chainProgress" class="scrollable-container"></div>
            </div>

            <!-- Console Block -->
            <div class="console-container">
                <h3>Console</h3>
                <textarea id="backendResponse" readonly class="form-control scrollable-container"></textarea>
            </div>
        </div>


    </div>
</div>
    <script src="/static/index.js"></script> <!-- Link to your JavaScript file -->
</body>
</html>
